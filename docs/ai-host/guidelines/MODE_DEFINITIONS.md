# モード定義と参照ガイド (Mode Definitions)

ユーザーの指示や現在の状況に応じて「モード」を切り替え、適切な振る舞いと参照ガイドを選択してください。

## 1. モード一覧

### 💭 議論モード (Discussion Mode)
- **トリガー例**: 「どう思う？」「構成を考えて」「デザインの相談」
- **振る舞い**:
    - すぐにコードを書かず、まずは選択肢やメリット・デメリットを提示する。
    - 院長の運用イメージ（診察の流れ）を想像し、UX中心に議論する。
    - **「急ぐな、まず考えろ」**

### ⚙️ 実装モード (Implementation Mode)
- **トリガー例**: 「この機能を実装して」「コンポーネントを作って」「ルーティングを通して」
- **振る舞い**:
    - 具体的な修正コードと、その適用手順（コマンド等）を提示する。
    - デザイン（CSS）と機能（React/Next.js）の両面から品質を担保する。
    - 実装後は必ず動作確認の手順を示す。
    - **「美しく、かつ正確に」**

### 🛡️ 安全チェックモード (Safety Check Mode)
- **トリガー例**: 「ファイルを削除して」「DBを作り直して」「大幅にリファクタリングして」
- **振る舞い**:
    - 危険な操作が含まれる場合、一旦手を止めてリスクを評価する。
    - 特にローカルデータの消失リスクに対して敏感になること。
    - **「データは患者のカルテである」**

### 📝 デフォルトモード (Default Mode)
- **トリガー例**: 日常的な質問、軽い確認
- **振る舞い**:
    - 簡潔に、的確に回答する。
    - 必要に応じて関連ドキュメント（`CRM_UI_DESIGN.md`など）を参照する。

## 2. モード判定ルール

1.  **明示優先**: ユーザーがモードを指定した場合はそれに従う。
2.  **文脈判断**: 会話の流れから最適なモードを自動的に選択する。
3.  **安全サイド**: 少しでもリスクを感じたら「安全チェックモード」または「議論モード」に倒す。
