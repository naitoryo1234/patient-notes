# Mobile Optimization Proposal

## Status & Problem
現在のアプリケーションはデスクトップ（PC/Tab）での利用を前提としており、スマートフォン（幅375px~430px）での閲覧時に以下の問題が発生しています。

### 1. Dashboard Layout Stacking
- **現状**: `grid-cols-1 lg:grid-cols-4` の構成により、スマホでは左カラム（本日の予定）と右カラム（患者検索・リスト）が縦に積まれます。
- **問題**: 「本日の予定」パネルが画面の高さを占有するため、スクロールしないと検索や患者リストに到達できず、アクセス性が著しく低下しています。

### 2. Navigation
- **現状**: ヘッダーにボタンが並んでおり、スマホ幅では `新規患者` ボタンが `hidden md:flex` で非表示になっているか、あるいはボタンが溢れてレイアウト崩れを起こす可能性があります。

### 3. Deep Scrolling in Detail Page
- **現状**: 患者詳細ページが2カラム構成から1カラムになるため、プロファイル情報、過去の履歴、入力フォームが縦一列に並び、目的のセクションに辿り着くまですべてスクロールする必要があります。

---

## Proposed Solutions (Implementation Plan)

スマホ対応を本格的に行う場合、以下の改修を推奨します。

### 1. Tabbed Interface for Dashboard (スマホのみ)
スマホ表示時 (`md`未満) は縦積みレイアウトを廃止し、**タブ切り替えUI** を導入します。

- **タブ構成**:
    - `[今日の予定]` (Default)
    - `[患者検索・リスト]`
    - `[設定/その他]`
- **実装イメージ**:
    - `DailyAppointmentPanel` と `PatientSearchPanel` を常にレンダリングせず、選択されたタブのコンテンツのみを表示するラッパーコンポーネントを作成します。

### 2. Bottom Navigation (Optional but Recommended)
ヘッダーのナビゲーションを簡素化し、スマホでは画面下部に固定の **ボトムナビゲーション** を配置します。

- **メニュー**:
    - 🏠 ホーム (Dashboard)
    - 📅 予約一覧
    - ➕ 新規患者
    - ⚙️ 設定
- 指の届きやすい下部に配置することで、片手での操作性が向上します。

### 3. Patient Detail Optimization
詳細画面でも情報を整理し、スクロール量を減らします。

- **Accordion / Tabs**:
    - 「基本情報」は常に表示（または折りたたみ）。
    - 「カルテ入力」と「過去履歴」をタブで切り替えられるようにします。
- **Sticky Actions**:
    - 「保存する」などの重要アクションボタンを画面下部に固定（Sticky Footer）します。

### 4. Input Form Improvements
- **Full Screen Modal**:
    - ダイアログやモーダルは、スマホでは画面全体を覆うフルスクリーンモードに切り替えます。
- **Touch Targets**:
    - ボタンやリンクのタップ領域を `44px` 以上確保します。

---

## Conclusion
現状の「縦に積まれる」挙動はCSS Gridの標準的なレスポンシブ挙動ですが、アプリケーションとしては使い勝手が悪いため、**「並べる」から「切り替える」へのUIパターンの変更** が必要です。

これらは `v1.2` 以降の独立した改修タスクとして計画することを推奨します。
