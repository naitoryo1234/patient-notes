# Phase 9 Polish & Phase 10 Prep: 実機検証リスト

ブラウザ操作にて以下のシナリオを一括で検証し、UIの挙動と不具合を確認します。

## 1. ダッシュボード (Dashboard)
### 1-1. 右カラム「スマート・ディレクトリ」
- [x] **タブ切り替え**: 歴史 (History) / 検索 (Search) / 要確認 (Action) が正しく切り替わるか。
- [x] **検索動作**: 名前検索、診察券番号検索が機能し、結果がリストに表示されるか。
- [x] **履歴の保存 (LocalStorage)**: 患者詳細ページを表示した後、ダッシュボードに戻ると「履歴」に追加されているか。
- [x] **要確認 (Action)**: 担当者未定の予約がある場合、バッジ件数が表示され、リストアップされるか。

### 1-2. 本日の予約リスト (Daily Appointment)
- [x] **セクション分離**: 「これからの予約」と「過去・完了・キャンセル」が視覚的に分離されているか。
- [x] **視認性**:
    - **キャンセル**: 取り消し線とグレーアウト。
    - **来院済み**: 色の変化、「来院済み」バッジ。
    - **直前**: 「あとx分」の表示。
- [x] **チェックイン機能 (Check-in)**:
    - 「受付」ボタン押下時、**即座に**色が変化するか（楽観的UIの確認）。
    - ページリロード後も状態（来院済み）が維持されているか。

## 2. 予約編集機能 (Appointment Editing)
ダッシュボード上の編集ボタン（鉛筆アイコン）からの操作。

### 2-1. 正常系
- [x] **時間変更**: 開始時間を変更し、保存後にリスト上の並び順が自動的に変わるか。
- [x] **担当者変更**: 担当者を割り当て（または解除）し、即座にカード上の表示（「担: 〇〇」）が変わるか。
- [x] **所要時間変更**: 所要時間を変更し、保存できるか。

### 2-2. 異常系（バリデーション）
- [x] **ダブルブッキング防止**:
    - **手順**: ある予約（例: 10:00〜）の時間を、別の予約（例: 10:30〜）と重なる時間（例: 10:20〜60分）に変更して保存する。
    - **期待動作**: 赤枠のエラーメッセージが表示され、保存がブロックされること。
    - **リカバリー**: エラーメッセージ内の「予約台帳を確認する」リンクが機能するか。

## 3. 患者詳細ページ (Patient Detail)
- [x] **遷移**: ダッシュボードのカードクリックでスムーズに遷移するか。
- [x] **戻る動作**: ブラウザの「戻る」またはロゴクリックでダッシュボードに戻った際、状態が適切か。

---
*Verified by AntiGravity Browser Agent - 2025/12/11*
