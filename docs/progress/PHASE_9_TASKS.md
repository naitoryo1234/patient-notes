# Phase 9: UI/UX改善＆実用性向上タスクリスト

現場での使い勝手を向上させるための、既存機能のブラッシュアップタスク一覧です。

> **⚠️ 重要: 作業の進め方**
> 本タスクリストの項目を実装する際は、**単に指示通り実装するのではなく、まずその解決策が最適かどうかを検討してください。**
> より良い方法や、潜在的なリスク（例：データの重複保存など）がある場合は、実装前に代替案を提案すること。

---

## 📅 1. 患者一覧・検索（Patient List）

### [1-1] 検索結果に「最終来院日」を追加
- **優先度**: 🔴 高
- **ステータス**: 未着手
- **概要**: 患者検索のドロップダウンリストに、その患者の直近の来院日（または最終記録日）を表示します。
- **目的**: 詳細を開く前に「1週間ぶり」なのか「半年ぶり」なのかを把握し、診療の準備ができるようにするため。

### [1-2] 検索結果に「タグ」を追加
- **優先度**: 🟡 中
- **ステータス**: 未着手
- **概要**: 患者検索リストに、主要なタグ（またはタグの有無を示すバッジ）を表示します。
- **目的**: 「禁忌あり」「VIP」などの重要情報を、詳細を開く前に察知できるようにするため。

---

## 📝 2. カルテ入力・履歴（Clinical Record）

### [2-1] 「前回コピー（Do）」ボタンの実装
- **優先度**: 🔴 高
- **ステータス**: ✅ 完了
- **概要**: カルテ入力フォーム付近にボタンを設置し、クリックすると直近の S/O/A/P 内容を入力欄に転記します。
- **目的**: 定期的なメンテナンスや処方など、前回とほぼ同じ内容の入力時間を劇的に短縮するため。

### [2-2] 履歴リストでの「作成者」視覚化
- **優先度**: 🟢 低
- **ステータス**: 未着手
- **概要**: 施術履歴リスト（RecordList）において、誰が書いた記録か（医師/ナースなど）をアイコンや色枠で区別しやすくします。
- **目的**: スクロールして履歴を見る際、「自分の記録」や「院長の記録」を一瞬で判別できるようにするため。

### [2-3] 「基本情報編集」ボタンの名称変更
- **優先度**: 🟡 中
- **ステータス**: 未着手
- **概要**: プロフィール欄の「編集」ボタンのデザインや文言を「詳細情報の変更」などに変更します。
- **目的**: 今回インライン編集（その場でのタグ・メモ編集）が可能になったため、それらとの機能的な混同を防ぐため。

### [2-4] カルテ記録の削除機能
- **優先度**: 🟡 中
- **ステータス**: ✅ 完了
- **概要**: 各カルテ記録に削除ボタンを設置し、確認ダイアログを経て削除できるようにします（全件対象）。
- **目的**: 誤って作成された記録や、不要なテストデータを整理できるようにするため。土台としての汎用性を重視。

---

## 📅 3. 予約管理（Appointment）

### [3-1] 担当スタッフによる絞り込み機能
- **優先度**: 🟡 中
- **ステータス**: 未着手
- **概要**: 予約一覧ページにプルダウンを追加し、担当スタッフごとに予約を表示フィルターできるようにします。
- **目的**: 複数のスタッフが勤務する場合に、「自分（または特定のスタッフ）の予約」だけを素早く確認するため。

### [3-2] ステータスのアイコン化
- **優先度**: 🔴 高
- **ステータス**: 未着手
- **概要**: リスト上の文字ステータス（完了/予定/キャンセル）を、視認性の高いアイコン（✅, 📅, ❌）に置き換えます。
- **目的**: 文字を読まなくても、パッと見でリストの状況（どれが完了済みで、どれが未消化か）を直感的に認識できるようにするため。

---

## 🤖 4. AI取込フロー（AI Import）

### [4-1] 確認画面での直接編集機能
- **優先度**: 🔴 高
- **ステータス**: ✅ 完了
- **概要**: AI解析後の確認画面（プレビュー）を、単なるテキスト表示から編集可能な入力フィールドに変更します。
- **目的**: AIの解析結果に誤字や区切りミスがあった場合、わざわざ元テキストに戻ることなく、その場で修正して登録できるようにするため。

### [4-2] 「既存患者へ移動」アクションの追加
- **優先度**: 🟡 中
- **ステータス**: 未着手
- **概要**: 新規登録時に重複患者が見つかった際のアラート内に、「この患者のカルテ入力へ進む」ボタンを追加します。
- **目的**: 「既に登録済みだった」と判明した際、スムーズに本来の目的（カルテ入力）へ移行できるようにするため。

### [4-3] AI活用ガイド（プロンプト例）の表示
- **優先度**: 🟡 中
- **ステータス**: ✅ 完了
- **概要**: カルテ入力・患者登録のAI取込画面に、生成AI用のプロンプトテンプレートを表示・コピーできるガイドボタンを設置します。
- **目的**: ユーザーが「どのような形式のテキストを用意すればよいか」を迷わず理解し、スムーズにAI連携を行えるようにするため。
